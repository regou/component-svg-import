{"version":3,"file":null,"sources":["../node_modules/rxjs/util/toSubscriber.js","../node_modules/rxjs/symbol/observable.js","../node_modules/rxjs/util/tryCatch.js","../node_modules/rxjs/operator/map.js","../node_modules/rxjs/Observable/dom/AjaxObservable.js","../node_modules/rxjs/operator/filter.js","../node_modules/rxjs/util/isPromise.js","../node_modules/rxjs/symbol/iterator.js","../node_modules/rxjs/util/subscribeToResult.js","../node_modules/rxjs/operator/catch.js","../node_modules/rxjs/operator/switchMap.js","../node_modules/rxjs/util/Set.js","../node_modules/rxjs/operator/distinct.js","../node_modules/rxjs/util/root.js","../node_modules/rxjs/Subscriber.js","../node_modules/rxjs/symbol/rxSubscriber.js","../node_modules/rxjs/Observer.js","../node_modules/rxjs/Observable.js","../node_modules/rxjs/Subscription.js","../node_modules/rxjs/util/ObjectUnsubscribedError.js","../node_modules/rxjs/SubjectSubscription.js","../node_modules/rxjs/Subject.js","../node_modules/rxjs/BehaviorSubject.js","../node_modules/rxjs/util/errorObject.js","../node_modules/rxjs/Observable/dom/ajax.js","../node_modules/rxjs/observable/EmptyObservable.js","../node_modules/rxjs/observable/empty.js","../node_modules/rxjs/add/observable/empty.js","../node_modules/rxjs/add/operator/filter.js","../node_modules/rxjs/add/operator/map.js","../node_modules/rxjs/OuterSubscriber.js","../node_modules/rxjs/util/isArray.js","../node_modules/rxjs/InnerSubscriber.js","../node_modules/rxjs/add/operator/catch.js","../node_modules/rxjs/add/operator/switchMap.js","../node_modules/rxjs/add/operator/distinct.js","../src/index.js"],"sourcesContent":["\"use strict\";\nvar Subscriber_1 = require('../Subscriber');\nvar rxSubscriber_1 = require('../symbol/rxSubscriber');\nvar Observer_1 = require('../Observer');\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber_1.$$rxSubscriber]) {\n            return nextOrObserver[rxSubscriber_1.$$rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_1.Subscriber(Observer_1.empty);\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n//# sourceMappingURL=toSubscriber.js.map","\"use strict\";\nvar root_1 = require('../util/root');\nfunction getSymbolObservable(context) {\n    var $$observable;\n    var Symbol = context.Symbol;\n    if (typeof Symbol === 'function') {\n        if (Symbol.observable) {\n            $$observable = Symbol.observable;\n        }\n        else {\n            $$observable = Symbol('observable');\n            Symbol.observable = $$observable;\n        }\n    }\n    else {\n        $$observable = '@@observable';\n    }\n    return $$observable;\n}\nexports.getSymbolObservable = getSymbolObservable;\nexports.$$observable = getSymbolObservable(root_1.root);\n//# sourceMappingURL=observable.js.map","\"use strict\";\nvar errorObject_1 = require('./errorObject');\nvar tryCatchTarget;\nfunction tryCatcher() {\n    try {\n        return tryCatchTarget.apply(this, arguments);\n    }\n    catch (e) {\n        errorObject_1.errorObject.e = e;\n        return errorObject_1.errorObject;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\nexports.tryCatch = tryCatch;\n;\n//# sourceMappingURL=tryCatch.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nfunction map(project, thisArg) {\n    if (typeof project !== 'function') {\n        throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n    }\n    return this.lift(new MapOperator(project, thisArg));\n}\nexports.map = map;\nvar MapOperator = (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source._subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexports.MapOperator = MapOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MapSubscriber = (function (_super) {\n    __extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        _super.call(this, destination);\n        this.project = project;\n        this.count = 0;\n        this.thisArg = thisArg || this;\n    }\n    // NOTE: This looks unoptimized, but it's actually purposefully NOT\n    // using try/catch optimizations.\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=map.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../../util/root');\nvar tryCatch_1 = require('../../util/tryCatch');\nvar errorObject_1 = require('../../util/errorObject');\nvar Observable_1 = require('../../Observable');\nvar Subscriber_1 = require('../../Subscriber');\nvar map_1 = require('../../operator/map');\nfunction getCORSRequest() {\n    if (root_1.root.XMLHttpRequest) {\n        var xhr = new root_1.root.XMLHttpRequest();\n        if ('withCredentials' in xhr) {\n            xhr.withCredentials = !!this.withCredentials;\n        }\n        return xhr;\n    }\n    else if (!!root_1.root.XDomainRequest) {\n        return new root_1.root.XDomainRequest();\n    }\n    else {\n        throw new Error('CORS is not supported by your browser');\n    }\n}\nfunction getXMLHttpRequest() {\n    if (root_1.root.XMLHttpRequest) {\n        return new root_1.root.XMLHttpRequest();\n    }\n    else {\n        var progId = void 0;\n        try {\n            var progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'];\n            for (var i = 0; i < 3; i++) {\n                try {\n                    progId = progIds[i];\n                    if (new root_1.root.ActiveXObject(progId)) {\n                        break;\n                    }\n                }\n                catch (e) {\n                }\n            }\n            return new root_1.root.ActiveXObject(progId);\n        }\n        catch (e) {\n            throw new Error('XMLHttpRequest is not supported by your browser');\n        }\n    }\n}\nfunction ajaxGet(url, headers) {\n    if (headers === void 0) { headers = null; }\n    return new AjaxObservable({ method: 'GET', url: url, headers: headers });\n}\nexports.ajaxGet = ajaxGet;\n;\nfunction ajaxPost(url, body, headers) {\n    return new AjaxObservable({ method: 'POST', url: url, body: body, headers: headers });\n}\nexports.ajaxPost = ajaxPost;\n;\nfunction ajaxDelete(url, headers) {\n    return new AjaxObservable({ method: 'DELETE', url: url, headers: headers });\n}\nexports.ajaxDelete = ajaxDelete;\n;\nfunction ajaxPut(url, body, headers) {\n    return new AjaxObservable({ method: 'PUT', url: url, body: body, headers: headers });\n}\nexports.ajaxPut = ajaxPut;\n;\nfunction ajaxGetJSON(url, headers) {\n    return new AjaxObservable({ method: 'GET', url: url, responseType: 'json', headers: headers })\n        .lift(new map_1.MapOperator(function (x, index) { return x.response; }, null));\n}\nexports.ajaxGetJSON = ajaxGetJSON;\n;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar AjaxObservable = (function (_super) {\n    __extends(AjaxObservable, _super);\n    function AjaxObservable(urlOrRequest) {\n        _super.call(this);\n        var request = {\n            async: true,\n            createXHR: function () {\n                return this.crossDomain ? getCORSRequest.call(this) : getXMLHttpRequest();\n            },\n            crossDomain: false,\n            withCredentials: false,\n            headers: {},\n            method: 'GET',\n            responseType: 'json',\n            timeout: 0\n        };\n        if (typeof urlOrRequest === 'string') {\n            request.url = urlOrRequest;\n        }\n        else {\n            for (var prop in urlOrRequest) {\n                if (urlOrRequest.hasOwnProperty(prop)) {\n                    request[prop] = urlOrRequest[prop];\n                }\n            }\n        }\n        this.request = request;\n    }\n    AjaxObservable.prototype._subscribe = function (subscriber) {\n        return new AjaxSubscriber(subscriber, this.request);\n    };\n    /**\n     * Creates an observable for an Ajax request with either a request object with\n     * url, headers, etc or a string for a URL.\n     *\n     * @example\n     * source = Rx.Observable.ajax('/products');\n     * source = Rx.Observable.ajax({ url: 'products', method: 'GET' });\n     *\n     * @param {string|Object} request Can be one of the following:\n     *   A string of the URL to make the Ajax call.\n     *   An object with the following properties\n     *   - url: URL of the request\n     *   - body: The body of the request\n     *   - method: Method of the request, such as GET, POST, PUT, PATCH, DELETE\n     *   - async: Whether the request is async\n     *   - headers: Optional headers\n     *   - crossDomain: true if a cross domain request, else false\n     *   - createXHR: a function to override if you need to use an alternate\n     *   XMLHttpRequest implementation.\n     *   - resultSelector: a function to use to alter the output value type of\n     *   the Observable. Gets {@link AjaxResponse} as an argument.\n     * @return {Observable} An observable sequence containing the XMLHttpRequest.\n     * @static true\n     * @name ajax\n     * @owner Observable\n    */\n    AjaxObservable.create = (function () {\n        var create = function (urlOrRequest) {\n            return new AjaxObservable(urlOrRequest);\n        };\n        create.get = ajaxGet;\n        create.post = ajaxPost;\n        create.delete = ajaxDelete;\n        create.put = ajaxPut;\n        create.getJSON = ajaxGetJSON;\n        return create;\n    })();\n    return AjaxObservable;\n}(Observable_1.Observable));\nexports.AjaxObservable = AjaxObservable;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AjaxSubscriber = (function (_super) {\n    __extends(AjaxSubscriber, _super);\n    function AjaxSubscriber(destination, request) {\n        _super.call(this, destination);\n        this.request = request;\n        this.done = false;\n        var headers = request.headers = request.headers || {};\n        // force CORS if requested\n        if (!request.crossDomain && !headers['X-Requested-With']) {\n            headers['X-Requested-With'] = 'XMLHttpRequest';\n        }\n        // ensure content type is set\n        if (!('Content-Type' in headers) && !(root_1.root.FormData && request.body instanceof root_1.root.FormData) && typeof request.body !== 'undefined') {\n            headers['Content-Type'] = 'application/x-www-form-urlencoded; charset=UTF-8';\n        }\n        // properly serialize body\n        request.body = this.serializeBody(request.body, request.headers['Content-Type']);\n        this.send();\n    }\n    AjaxSubscriber.prototype.next = function (e) {\n        this.done = true;\n        var _a = this, xhr = _a.xhr, request = _a.request, destination = _a.destination;\n        var response = new AjaxResponse(e, xhr, request);\n        destination.next(response);\n    };\n    AjaxSubscriber.prototype.send = function () {\n        var _a = this, request = _a.request, _b = _a.request, user = _b.user, method = _b.method, url = _b.url, async = _b.async, password = _b.password, headers = _b.headers, body = _b.body;\n        var createXHR = request.createXHR;\n        var xhr = tryCatch_1.tryCatch(createXHR).call(request);\n        if (xhr === errorObject_1.errorObject) {\n            this.error(errorObject_1.errorObject.e);\n        }\n        else {\n            this.xhr = xhr;\n            // open XHR first\n            var result = void 0;\n            if (user) {\n                result = tryCatch_1.tryCatch(xhr.open).call(xhr, method, url, async, user, password);\n            }\n            else {\n                result = tryCatch_1.tryCatch(xhr.open).call(xhr, method, url, async);\n            }\n            if (result === errorObject_1.errorObject) {\n                this.error(errorObject_1.errorObject.e);\n                return null;\n            }\n            // timeout and responseType can be set once the XHR is open\n            xhr.timeout = request.timeout;\n            xhr.responseType = request.responseType;\n            // set headers\n            this.setHeaders(xhr, headers);\n            // now set up the events\n            this.setupEvents(xhr, request);\n            // finally send the request\n            if (body) {\n                xhr.send(body);\n            }\n            else {\n                xhr.send();\n            }\n        }\n        return xhr;\n    };\n    AjaxSubscriber.prototype.serializeBody = function (body, contentType) {\n        if (!body || typeof body === 'string') {\n            return body;\n        }\n        else if (root_1.root.FormData && body instanceof root_1.root.FormData) {\n            return body;\n        }\n        if (contentType) {\n            var splitIndex = contentType.indexOf(';');\n            if (splitIndex !== -1) {\n                contentType = contentType.substring(0, splitIndex);\n            }\n        }\n        switch (contentType) {\n            case 'application/x-www-form-urlencoded':\n                return Object.keys(body).map(function (key) { return (encodeURI(key) + \"=\" + encodeURI(body[key])); }).join('&');\n            case 'application/json':\n                return JSON.stringify(body);\n            default:\n                return body;\n        }\n    };\n    AjaxSubscriber.prototype.setHeaders = function (xhr, headers) {\n        for (var key in headers) {\n            if (headers.hasOwnProperty(key)) {\n                xhr.setRequestHeader(key, headers[key]);\n            }\n        }\n    };\n    AjaxSubscriber.prototype.setupEvents = function (xhr, request) {\n        var progressSubscriber = request.progressSubscriber;\n        function xhrTimeout(e) {\n            var _a = xhrTimeout, subscriber = _a.subscriber, progressSubscriber = _a.progressSubscriber, request = _a.request;\n            if (progressSubscriber) {\n                progressSubscriber.error(e);\n            }\n            subscriber.error(new AjaxTimeoutError(this, request)); //TODO: Make betterer.\n        }\n        ;\n        xhr.ontimeout = xhrTimeout;\n        xhrTimeout.request = request;\n        xhrTimeout.subscriber = this;\n        xhrTimeout.progressSubscriber = progressSubscriber;\n        if (xhr.upload && 'withCredentials' in xhr && root_1.root.XDomainRequest) {\n            if (progressSubscriber) {\n                var xhrProgress_1;\n                xhrProgress_1 = function (e) {\n                    var progressSubscriber = xhrProgress_1.progressSubscriber;\n                    progressSubscriber.next(e);\n                };\n                xhr.onprogress = xhrProgress_1;\n                xhrProgress_1.progressSubscriber = progressSubscriber;\n            }\n            var xhrError_1;\n            xhrError_1 = function (e) {\n                var _a = xhrError_1, progressSubscriber = _a.progressSubscriber, subscriber = _a.subscriber, request = _a.request;\n                if (progressSubscriber) {\n                    progressSubscriber.error(e);\n                }\n                subscriber.error(new AjaxError('ajax error', this, request));\n            };\n            xhr.onerror = xhrError_1;\n            xhrError_1.request = request;\n            xhrError_1.subscriber = this;\n            xhrError_1.progressSubscriber = progressSubscriber;\n        }\n        function xhrReadyStateChange(e) {\n            var _a = xhrReadyStateChange, subscriber = _a.subscriber, progressSubscriber = _a.progressSubscriber, request = _a.request;\n            if (this.readyState === 4) {\n                // normalize IE9 bug (http://bugs.jquery.com/ticket/1450)\n                var status_1 = this.status === 1223 ? 204 : this.status;\n                var response = (this.responseType === 'text' ? (this.response || this.responseText) : this.response);\n                // fix status code when it is 0 (0 status is undocumented).\n                // Occurs when accessing file resources or on Android 4.1 stock browser\n                // while retrieving files from application cache.\n                if (status_1 === 0) {\n                    status_1 = response ? 200 : 0;\n                }\n                if (200 <= status_1 && status_1 < 300) {\n                    if (progressSubscriber) {\n                        progressSubscriber.complete();\n                    }\n                    subscriber.next(e);\n                    subscriber.complete();\n                }\n                else {\n                    if (progressSubscriber) {\n                        progressSubscriber.error(e);\n                    }\n                    subscriber.error(new AjaxError('ajax error ' + status_1, this, request));\n                }\n            }\n        }\n        ;\n        xhr.onreadystatechange = xhrReadyStateChange;\n        xhrReadyStateChange.subscriber = this;\n        xhrReadyStateChange.progressSubscriber = progressSubscriber;\n        xhrReadyStateChange.request = request;\n    };\n    AjaxSubscriber.prototype.unsubscribe = function () {\n        var _a = this, done = _a.done, xhr = _a.xhr;\n        if (!done && xhr && xhr.readyState !== 4 && typeof xhr.abort === 'function') {\n            xhr.abort();\n        }\n        _super.prototype.unsubscribe.call(this);\n    };\n    return AjaxSubscriber;\n}(Subscriber_1.Subscriber));\nexports.AjaxSubscriber = AjaxSubscriber;\n/**\n * A normalized AJAX response.\n *\n * @see {@link ajax}\n *\n * @class AjaxResponse\n */\nvar AjaxResponse = (function () {\n    function AjaxResponse(originalEvent, xhr, request) {\n        this.originalEvent = originalEvent;\n        this.xhr = xhr;\n        this.request = request;\n        this.status = xhr.status;\n        this.responseType = xhr.responseType || request.responseType;\n        switch (this.responseType) {\n            case 'json':\n                if ('response' in xhr) {\n                    //IE does not support json as responseType, parse it internally\n                    this.response = xhr.responseType ? xhr.response : JSON.parse(xhr.response || xhr.responseText || 'null');\n                }\n                else {\n                    this.response = JSON.parse(xhr.responseText || 'null');\n                }\n                break;\n            case 'xml':\n                this.response = xhr.responseXML;\n                break;\n            case 'text':\n            default:\n                this.response = ('response' in xhr) ? xhr.response : xhr.responseText;\n                break;\n        }\n    }\n    return AjaxResponse;\n}());\nexports.AjaxResponse = AjaxResponse;\n/**\n * A normalized AJAX error.\n *\n * @see {@link ajax}\n *\n * @class AjaxError\n */\nvar AjaxError = (function (_super) {\n    __extends(AjaxError, _super);\n    function AjaxError(message, xhr, request) {\n        _super.call(this, message);\n        this.message = message;\n        this.xhr = xhr;\n        this.request = request;\n        this.status = xhr.status;\n    }\n    return AjaxError;\n}(Error));\nexports.AjaxError = AjaxError;\n/**\n * @see {@link ajax}\n *\n * @class AjaxTimeoutError\n */\nvar AjaxTimeoutError = (function (_super) {\n    __extends(AjaxTimeoutError, _super);\n    function AjaxTimeoutError(xhr, request) {\n        _super.call(this, 'ajax timeout', xhr, request);\n    }\n    return AjaxTimeoutError;\n}(AjaxError));\nexports.AjaxTimeoutError = AjaxTimeoutError;\n//# sourceMappingURL=AjaxObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/* tslint:disable:max-line-length */\n/**\n * Filter items emitted by the source Observable by only emitting those that\n * satisfy a specified predicate.\n *\n * <span class=\"informal\">Like\n * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),\n * it only emits a value from the source if it passes a criterion function.</span>\n *\n * <img src=\"./img/filter.png\" width=\"100%\">\n *\n * Similar to the well-known `Array.prototype.filter` method, this operator\n * takes values from the source Observable, passes them through a `predicate`\n * function and only emits those values that yielded `true`.\n *\n * @example <caption>Emit only click events whose target was a DIV element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var clicksOnDivs = clicks.filter(ev => ev.target.tagName === 'DIV');\n * clicksOnDivs.subscribe(x => console.log(x));\n *\n * @see {@link distinct}\n * @see {@link distinctKey}\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n * @see {@link ignoreElements}\n * @see {@link partition}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted, if `false` the value is not passed to the output\n * Observable. The `index` parameter is the number `i` for the i-th source\n * emission that has happened since the subscription, starting from the number\n * `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of values from the source that were\n * allowed by the `predicate` function.\n * @method filter\n * @owner Observable\n */\nfunction filter(predicate, thisArg) {\n    return this.lift(new FilterOperator(predicate, thisArg));\n}\nexports.filter = filter;\nvar FilterOperator = (function () {\n    function FilterOperator(predicate, thisArg) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n    }\n    FilterOperator.prototype.call = function (subscriber, source) {\n        return source._subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n    };\n    return FilterOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar FilterSubscriber = (function (_super) {\n    __extends(FilterSubscriber, _super);\n    function FilterSubscriber(destination, predicate, thisArg) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n        this.count = 0;\n        this.predicate = predicate;\n    }\n    // the try catch block below is left specifically for\n    // optimization and perf reasons. a tryCatcher is not necessary here.\n    FilterSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.destination.next(value);\n        }\n    };\n    return FilterSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=filter.js.map","\"use strict\";\nfunction isPromise(value) {\n    return value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\nexports.isPromise = isPromise;\n//# sourceMappingURL=isPromise.js.map","\"use strict\";\nvar root_1 = require('../util/root');\nfunction symbolIteratorPonyfill(root) {\n    var Symbol = root.Symbol;\n    if (typeof Symbol === 'function') {\n        if (!Symbol.iterator) {\n            Symbol.iterator = Symbol('iterator polyfill');\n        }\n        return Symbol.iterator;\n    }\n    else {\n        // [for Mozilla Gecko 27-35:](https://mzl.la/2ewE1zC)\n        var Set_1 = root.Set;\n        if (Set_1 && typeof new Set_1()['@@iterator'] === 'function') {\n            return '@@iterator';\n        }\n        var Map_1 = root.Map;\n        // required for compatability with es6-shim\n        if (Map_1) {\n            var keys = Object.getOwnPropertyNames(Map_1.prototype);\n            for (var i = 0; i < keys.length; ++i) {\n                var key = keys[i];\n                // according to spec, Map.prototype[@@iterator] and Map.orototype.entries must be equal.\n                if (key !== 'entries' && key !== 'size' && Map_1.prototype[key] === Map_1.prototype['entries']) {\n                    return key;\n                }\n            }\n        }\n        return '@@iterator';\n    }\n}\nexports.symbolIteratorPonyfill = symbolIteratorPonyfill;\nexports.$$iterator = symbolIteratorPonyfill(root_1.root);\n//# sourceMappingURL=iterator.js.map","\"use strict\";\nvar root_1 = require('./root');\nvar isArray_1 = require('./isArray');\nvar isPromise_1 = require('./isPromise');\nvar Observable_1 = require('../Observable');\nvar iterator_1 = require('../symbol/iterator');\nvar InnerSubscriber_1 = require('../InnerSubscriber');\nvar observable_1 = require('../symbol/observable');\nfunction subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {\n    var destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n    if (destination.closed) {\n        return null;\n    }\n    if (result instanceof Observable_1.Observable) {\n        if (result._isScalar) {\n            destination.next(result.value);\n            destination.complete();\n            return null;\n        }\n        else {\n            return result.subscribe(destination);\n        }\n    }\n    if (isArray_1.isArray(result)) {\n        for (var i = 0, len = result.length; i < len && !destination.closed; i++) {\n            destination.next(result[i]);\n        }\n        if (!destination.closed) {\n            destination.complete();\n        }\n    }\n    else if (isPromise_1.isPromise(result)) {\n        result.then(function (value) {\n            if (!destination.closed) {\n                destination.next(value);\n                destination.complete();\n            }\n        }, function (err) { return destination.error(err); })\n            .then(null, function (err) {\n            // Escaping the Promise trap: globally throw unhandled errors\n            root_1.root.setTimeout(function () { throw err; });\n        });\n        return destination;\n    }\n    else if (typeof result[iterator_1.$$iterator] === 'function') {\n        var iterator = result[iterator_1.$$iterator]();\n        do {\n            var item = iterator.next();\n            if (item.done) {\n                destination.complete();\n                break;\n            }\n            destination.next(item.value);\n            if (destination.closed) {\n                break;\n            }\n        } while (true);\n    }\n    else if (typeof result[observable_1.$$observable] === 'function') {\n        var obs = result[observable_1.$$observable]();\n        if (typeof obs.subscribe !== 'function') {\n            destination.error(new Error('invalid observable'));\n        }\n        else {\n            return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));\n        }\n    }\n    else {\n        destination.error(new TypeError('unknown type returned'));\n    }\n    return null;\n}\nexports.subscribeToResult = subscribeToResult;\n//# sourceMappingURL=subscribeToResult.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Catches errors on the observable to be handled by returning a new observable or throwing an error.\n * @param {function} selector a function that takes as arguments `err`, which is the error, and `caught`, which\n *  is the source observable, in case you'd like to \"retry\" that observable by returning it again. Whatever observable\n *  is returned by the `selector` will be used to continue the observable chain.\n * @return {Observable} an observable that originates from either the source or the observable returned by the\n *  catch `selector` function.\n * @method catch\n * @name catch\n * @owner Observable\n */\nfunction _catch(selector) {\n    var operator = new CatchOperator(selector);\n    var caught = this.lift(operator);\n    return (operator.caught = caught);\n}\nexports._catch = _catch;\nvar CatchOperator = (function () {\n    function CatchOperator(selector) {\n        this.selector = selector;\n    }\n    CatchOperator.prototype.call = function (subscriber, source) {\n        return source._subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));\n    };\n    return CatchOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar CatchSubscriber = (function (_super) {\n    __extends(CatchSubscriber, _super);\n    function CatchSubscriber(destination, selector, caught) {\n        _super.call(this, destination);\n        this.selector = selector;\n        this.caught = caught;\n    }\n    // NOTE: overriding `error` instead of `_error` because we don't want\n    // to have this flag this subscriber as `isStopped`.\n    CatchSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var result = void 0;\n            try {\n                result = this.selector(err, this.caught);\n            }\n            catch (err) {\n                this.destination.error(err);\n                return;\n            }\n            this.unsubscribe();\n            this.destination.remove(this);\n            subscribeToResult_1.subscribeToResult(this, result);\n        }\n    };\n    return CatchSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=catch.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/* tslint:disable:max-line-length */\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable, emitting values only from the most recently projected Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link switch}.</span>\n *\n * <img src=\"./img/switchMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. Each time it observes one of these\n * inner Observables, the output Observable begins emitting the items emitted by\n * that inner Observable. When a new inner Observable is emitted, `switchMap`\n * stops emitting items from the earlier-emitted inner Observable and begins\n * emitting items from the new one. It continues to behave like this for\n * subsequent inner Observables.\n *\n * @example <caption>Rerun an interval Observable on every click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.switchMap((ev) => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link mergeMap}\n * @see {@link switch}\n * @see {@link switchMapTo}\n *\n * @param {function(value: T, ?index: number): Observable} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and taking only the values from the most recently\n * projected inner Observable.\n * @method switchMap\n * @owner Observable\n */\nfunction switchMap(project, resultSelector) {\n    return this.lift(new SwitchMapOperator(project, resultSelector));\n}\nexports.switchMap = switchMap;\nvar SwitchMapOperator = (function () {\n    function SwitchMapOperator(project, resultSelector) {\n        this.project = project;\n        this.resultSelector = resultSelector;\n    }\n    SwitchMapOperator.prototype.call = function (subscriber, source) {\n        return source._subscribe(new SwitchMapSubscriber(subscriber, this.project, this.resultSelector));\n    };\n    return SwitchMapOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SwitchMapSubscriber = (function (_super) {\n    __extends(SwitchMapSubscriber, _super);\n    function SwitchMapSubscriber(destination, project, resultSelector) {\n        _super.call(this, destination);\n        this.project = project;\n        this.resultSelector = resultSelector;\n        this.index = 0;\n    }\n    SwitchMapSubscriber.prototype._next = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (error) {\n            this.destination.error(error);\n            return;\n        }\n        this._innerSub(result, value, index);\n    };\n    SwitchMapSubscriber.prototype._innerSub = function (result, value, index) {\n        var innerSubscription = this.innerSubscription;\n        if (innerSubscription) {\n            innerSubscription.unsubscribe();\n        }\n        this.add(this.innerSubscription = subscribeToResult_1.subscribeToResult(this, result, value, index));\n    };\n    SwitchMapSubscriber.prototype._complete = function () {\n        var innerSubscription = this.innerSubscription;\n        if (!innerSubscription || innerSubscription.closed) {\n            _super.prototype._complete.call(this);\n        }\n    };\n    SwitchMapSubscriber.prototype._unsubscribe = function () {\n        this.innerSubscription = null;\n    };\n    SwitchMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.remove(innerSub);\n        this.innerSubscription = null;\n        if (this.isStopped) {\n            _super.prototype._complete.call(this);\n        }\n    };\n    SwitchMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        if (this.resultSelector) {\n            this._tryNotifyNext(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        else {\n            this.destination.next(innerValue);\n        }\n    };\n    SwitchMapSubscriber.prototype._tryNotifyNext = function (outerValue, innerValue, outerIndex, innerIndex) {\n        var result;\n        try {\n            result = this.resultSelector(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return SwitchMapSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=switchMap.js.map","\"use strict\";\nvar root_1 = require('./root');\nfunction minimalSetImpl() {\n    // THIS IS NOT a full impl of Set, this is just the minimum\n    // bits of functionality we need for this library.\n    return (function () {\n        function MinimalSet() {\n            this._values = [];\n        }\n        MinimalSet.prototype.add = function (value) {\n            if (!this.has(value)) {\n                this._values.push(value);\n            }\n        };\n        MinimalSet.prototype.has = function (value) {\n            return this._values.indexOf(value) !== -1;\n        };\n        Object.defineProperty(MinimalSet.prototype, \"size\", {\n            get: function () {\n                return this._values.length;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        MinimalSet.prototype.clear = function () {\n            this._values.length = 0;\n        };\n        return MinimalSet;\n    }());\n}\nexports.minimalSetImpl = minimalSetImpl;\nexports.Set = root_1.root.Set || minimalSetImpl();\n//# sourceMappingURL=Set.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar Set_1 = require('../util/Set');\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from previous items.\n * If a keySelector function is provided, then it will project each value from the source observable into a new value that it will\n * check for equality with previously projected values. If a keySelector function is not provided, it will use each value from the\n * source observable directly with an equality check against previous values.\n * In JavaScript runtimes that support `Set`, this operator will use a `Set` to improve performance of the distinct value checking.\n * In other runtimes, this operator will use a minimal implementation of `Set` that relies on an `Array` and `indexOf` under the\n * hood, so performance will degrade as more values are checked for distinction. Even in newer browsers, a long-running `distinct`\n * use might result in memory leaks. To help alleviate this in some scenarios, an optional `flushes` parameter is also provided so\n * that the internal `Set` can be \"flushed\", basically clearing it of values.\n * @param {function} [keySelector] optional function to select which value you want to check as distinct.\n * @param {Observable} [flushes] optional Observable for flushing the internal HashSet of the operator.\n * @return {Observable} an Observable that emits items from the source Observable with distinct values.\n * @method distinct\n * @owner Observable\n */\nfunction distinct(keySelector, flushes) {\n    return this.lift(new DistinctOperator(keySelector, flushes));\n}\nexports.distinct = distinct;\nvar DistinctOperator = (function () {\n    function DistinctOperator(keySelector, flushes) {\n        this.keySelector = keySelector;\n        this.flushes = flushes;\n    }\n    DistinctOperator.prototype.call = function (subscriber, source) {\n        return source._subscribe(new DistinctSubscriber(subscriber, this.keySelector, this.flushes));\n    };\n    return DistinctOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DistinctSubscriber = (function (_super) {\n    __extends(DistinctSubscriber, _super);\n    function DistinctSubscriber(destination, keySelector, flushes) {\n        _super.call(this, destination);\n        this.keySelector = keySelector;\n        this.values = new Set_1.Set();\n        if (flushes) {\n            this.add(subscribeToResult_1.subscribeToResult(this, flushes));\n        }\n    }\n    DistinctSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.values.clear();\n    };\n    DistinctSubscriber.prototype.notifyError = function (error, innerSub) {\n        this._error(error);\n    };\n    DistinctSubscriber.prototype._next = function (value) {\n        if (this.keySelector) {\n            this._useKeySelector(value);\n        }\n        else {\n            this._finalizeNext(value, value);\n        }\n    };\n    DistinctSubscriber.prototype._useKeySelector = function (value) {\n        var key;\n        var destination = this.destination;\n        try {\n            key = this.keySelector(value);\n        }\n        catch (err) {\n            destination.error(err);\n            return;\n        }\n        this._finalizeNext(key, value);\n    };\n    DistinctSubscriber.prototype._finalizeNext = function (key, value) {\n        var values = this.values;\n        if (!values.has(key)) {\n            values.add(key);\n            this.destination.next(value);\n        }\n    };\n    return DistinctSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.DistinctSubscriber = DistinctSubscriber;\n//# sourceMappingURL=distinct.js.map","\"use strict\";\n/**\n * window: browser in DOM main thread\n * self: browser in WebWorker\n * global: Node.js/other\n */\nexports.root = (typeof window == 'object' && window.window === window && window\n    || typeof self == 'object' && self.self === self && self\n    || typeof global == 'object' && global.global === global && global);\nif (!exports.root) {\n    throw new Error('RxJS could not find any global context (window, self, global)');\n}\n//# sourceMappingURL=root.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isFunction_1 = require('./util/isFunction');\nvar Subscription_1 = require('./Subscription');\nvar Observer_1 = require('./Observer');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    /**\n     * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n     * defined Observer or a `next` callback function.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     */\n    function Subscriber(destinationOrNext, error, complete) {\n        _super.call(this);\n        this.syncErrorValue = null;\n        this.syncErrorThrown = false;\n        this.syncErrorThrowable = false;\n        this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        this.destination = destinationOrNext;\n                        this.destination.add(this);\n                    }\n                    else {\n                        this.syncErrorThrowable = true;\n                        this.destination = new SafeSubscriber(this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                this.syncErrorThrowable = true;\n                this.destination = new SafeSubscriber(this, destinationOrNext, error, complete);\n                break;\n        }\n    }\n    Subscriber.prototype[rxSubscriber_1.$$rxSubscriber] = function () { return this; };\n    /**\n     * A static factory for a Subscriber, given a (potentially partial) definition\n     * of an Observer.\n     * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n     * Observer represented by the given arguments.\n     */\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `next` from\n     * the Observable, with a value. The Observable may call this method 0 or more\n     * times.\n     * @param {T} [value] The `next` value.\n     * @return {void}\n     */\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `error` from\n     * the Observable, with an attached {@link Error}. Notifies the Observer that\n     * the Observable has experienced an error condition.\n     * @param {any} [err] The `error` exception.\n     * @return {void}\n     */\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive a valueless notification of type\n     * `complete` from the Observable. Notifies the Observer that the Observable\n     * has finished sending push-based notifications.\n     * @return {void}\n     */\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parent, observerOrNext, error, complete) {\n        _super.call(this);\n        this._parent = _parent;\n        var next;\n        var context = this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            context = observerOrNext;\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (isFunction_1.isFunction(context.unsubscribe)) {\n                this.add(context.unsubscribe.bind(context));\n            }\n            context.unsubscribe = this.unsubscribe.bind(this);\n        }\n        this._context = context;\n        this._next = next;\n        this._error = error;\n        this._complete = complete;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parent = this._parent;\n            if (!_parent.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parent, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parent = this._parent;\n            if (this._error) {\n                if (!_parent.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parent, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parent.syncErrorThrowable) {\n                this.unsubscribe();\n                throw err;\n            }\n            else {\n                _parent.syncErrorValue = err;\n                _parent.syncErrorThrown = true;\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            var _parent = this._parent;\n            if (this._complete) {\n                if (!_parent.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._complete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parent, this._complete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            throw err;\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            parent.syncErrorValue = err;\n            parent.syncErrorThrown = true;\n            return true;\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parent = this._parent;\n        this._context = null;\n        this._parent = null;\n        _parent.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=Subscriber.js.map","\"use strict\";\nvar root_1 = require('../util/root');\nvar Symbol = root_1.root.Symbol;\nexports.$$rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function') ?\n    Symbol.for('rxSubscriber') : '@@rxSubscriber';\n//# sourceMappingURL=rxSubscriber.js.map","\"use strict\";\nexports.empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) { throw err; },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map","\"use strict\";\nvar root_1 = require('./util/root');\nvar toSubscriber_1 = require('./util/toSubscriber');\nvar observable_1 = require('./symbol/observable');\n/**\n * A representation of any set of values over any amount of time. This the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nvar Observable = (function () {\n    /**\n     * @constructor\n     * @param {Function} subscribe the function that is  called when the Observable is\n     * initially subscribed to. This function is given a Subscriber, to which new values\n     * can be `next`ed, or an `error` method can be called to raise an error, or\n     * `complete` can be called to notify of a successful completion.\n     */\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    /**\n     * Creates a new Observable, with this Observable as the source, and the passed\n     * operator defined as the new observable's operator.\n     * @method lift\n     * @param {Operator} operator the operator defining the operation to take on the observable\n     * @return {Observable} a new observable with the Operator applied\n     */\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            operator.call(sink, this);\n        }\n        else {\n            sink.add(this._subscribe(sink));\n        }\n        if (sink.syncErrorThrowable) {\n            sink.syncErrorThrowable = false;\n            if (sink.syncErrorThrown) {\n                throw sink.syncErrorValue;\n            }\n        }\n        return sink;\n    };\n    /**\n     * @method forEach\n     * @param {Function} next a handler for each value emitted by the observable\n     * @param {PromiseConstructor} [PromiseCtor] a constructor function used to instantiate the Promise\n     * @return {Promise} a promise that either resolves on observable completion or\n     *  rejects with the handled error\n     */\n    Observable.prototype.forEach = function (next, PromiseCtor) {\n        var _this = this;\n        if (!PromiseCtor) {\n            if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n                PromiseCtor = root_1.root.Rx.config.Promise;\n            }\n            else if (root_1.root.Promise) {\n                PromiseCtor = root_1.root.Promise;\n            }\n        }\n        if (!PromiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return new PromiseCtor(function (resolve, reject) {\n            var subscription = _this.subscribe(function (value) {\n                if (subscription) {\n                    // if there is a subscription, then we can surmise\n                    // the next handling is asynchronous. Any errors thrown\n                    // need to be rejected explicitly and unsubscribe must be\n                    // called manually\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscription.unsubscribe();\n                    }\n                }\n                else {\n                    // if there is NO subscription, then we're getting a nexted\n                    // value synchronously during subscription. We can just call it.\n                    // If it errors, Observable's `subscribe` will ensure the\n                    // unsubscription logic is called, then synchronously rethrow the error.\n                    // After that, Promise will trap the error and send it\n                    // down the rejection path.\n                    next(value);\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        return this.source.subscribe(subscriber);\n    };\n    /**\n     * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n     * @method Symbol.observable\n     * @return {Observable} this instance of the observable\n     */\n    Observable.prototype[observable_1.$$observable] = function () {\n        return this;\n    };\n    // HACK: Since TypeScript inherits static properties too, we have to\n    // fight against TypeScript here so Subject can have a different static create signature\n    /**\n     * Creates a new cold Observable by calling the Observable constructor\n     * @static true\n     * @owner Observable\n     * @method create\n     * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n     * @return {Observable} a new cold observable\n     */\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\n//# sourceMappingURL=Observable.js.map","\"use strict\";\nvar isArray_1 = require('./util/isArray');\nvar isObject_1 = require('./util/isObject');\nvar isFunction_1 = require('./util/isFunction');\nvar tryCatch_1 = require('./util/tryCatch');\nvar errorObject_1 = require('./util/errorObject');\nvar UnsubscriptionError_1 = require('./util/UnsubscriptionError');\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nvar Subscription = (function () {\n    /**\n     * @param {function(): void} [unsubscribe] A function describing how to\n     * perform the disposal of resources when the `unsubscribe` method is called.\n     */\n    function Subscription(unsubscribe) {\n        /**\n         * A flag to indicate whether this Subscription has already been unsubscribed.\n         * @type {boolean}\n         */\n        this.closed = false;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    /**\n     * Disposes the resources held by the subscription. May, for instance, cancel\n     * an ongoing Observable execution or cancel any other type of work that\n     * started when the Subscription was created.\n     * @return {void}\n     */\n    Subscription.prototype.unsubscribe = function () {\n        var hasErrors = false;\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var _a = this, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this._subscriptions = null;\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            var trial = tryCatch_1.tryCatch(_unsubscribe).call(this);\n            if (trial === errorObject_1.errorObject) {\n                hasErrors = true;\n                (errors = errors || []).push(errorObject_1.errorObject.e);\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    var trial = tryCatch_1.tryCatch(sub.unsubscribe).call(sub);\n                    if (trial === errorObject_1.errorObject) {\n                        hasErrors = true;\n                        errors = errors || [];\n                        var err = errorObject_1.errorObject.e;\n                        if (err instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                            errors = errors.concat(err.errors);\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n        }\n        if (hasErrors) {\n            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n        }\n    };\n    /**\n     * Adds a tear down to be called during the unsubscribe() of this\n     * Subscription.\n     *\n     * If the tear down being added is a subscription that is already\n     * unsubscribed, is the same reference `add` is being called on, or is\n     * `Subscription.EMPTY`, it will not be added.\n     *\n     * If this subscription is already in an `closed` state, the passed\n     * tear down logic will be executed immediately.\n     *\n     * @param {TeardownLogic} teardown The additional logic to execute on\n     * teardown.\n     * @return {Subscription} Returns the Subscription used or created to be\n     * added to the inner subscriptions list. This Subscription can be used with\n     * `remove()` to remove the passed teardown logic from the inner subscriptions\n     * list.\n     */\n    Subscription.prototype.add = function (teardown) {\n        if (!teardown || (teardown === Subscription.EMPTY)) {\n            return Subscription.EMPTY;\n        }\n        if (teardown === this) {\n            return this;\n        }\n        var sub = teardown;\n        switch (typeof teardown) {\n            case 'function':\n                sub = new Subscription(teardown);\n            case 'object':\n                if (sub.closed || typeof sub.unsubscribe !== 'function') {\n                    break;\n                }\n                else if (this.closed) {\n                    sub.unsubscribe();\n                }\n                else {\n                    (this._subscriptions || (this._subscriptions = [])).push(sub);\n                }\n                break;\n            default:\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n        }\n        return sub;\n    };\n    /**\n     * Removes a Subscription from the internal list of subscriptions that will\n     * unsubscribe during the unsubscribe process of this Subscription.\n     * @param {Subscription} subscription The subscription to remove.\n     * @return {void}\n     */\n    Subscription.prototype.remove = function (subscription) {\n        // HACK: This might be redundant because of the logic in `add()`\n        if (subscription == null || (subscription === this) || (subscription === Subscription.EMPTY)) {\n            return;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\n//# sourceMappingURL=Subscription.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nvar ObjectUnsubscribedError = (function (_super) {\n    __extends(ObjectUnsubscribedError, _super);\n    function ObjectUnsubscribedError() {\n        var err = _super.call(this, 'object unsubscribed');\n        this.name = err.name = 'ObjectUnsubscribedError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return ObjectUnsubscribedError;\n}(Error));\nexports.ObjectUnsubscribedError = ObjectUnsubscribedError;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = require('./Subscription');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SubjectSubscription = (function (_super) {\n    __extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        _super.call(this);\n        this.subject = subject;\n        this.subscriber = subscriber;\n        this.closed = false;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription_1.Subscription));\nexports.SubjectSubscription = SubjectSubscription;\n//# sourceMappingURL=SubjectSubscription.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('./Observable');\nvar Subscriber_1 = require('./Subscriber');\nvar Subscription_1 = require('./Subscription');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\nvar SubjectSubscription_1 = require('./SubjectSubscription');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\n/**\n * @class SubjectSubscriber<T>\n */\nvar SubjectSubscriber = (function (_super) {\n    __extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        _super.call(this, destination);\n        this.destination = destination;\n    }\n    return SubjectSubscriber;\n}(Subscriber_1.Subscriber));\nexports.SubjectSubscriber = SubjectSubscriber;\n/**\n * @class Subject<T>\n */\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        _super.call(this);\n        this.observers = [];\n        this.closed = false;\n        this.isStopped = false;\n        this.hasError = false;\n        this.thrownError = null;\n    }\n    Subject.prototype[rxSubscriber_1.$$rxSubscriber] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable_1.Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable_1.Observable));\nexports.Subject = Subject;\n/**\n * @class AnonymousSubject<T>\n */\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        _super.call(this);\n        this.destination = destination;\n        this.source = source;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription_1.Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexports.AnonymousSubject = AnonymousSubject;\n//# sourceMappingURL=Subject.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('./Subject');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\n/**\n * @class BehaviorSubject<T>\n */\nvar BehaviorSubject = (function (_super) {\n    __extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        _super.call(this);\n        this._value = _value;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        if (subscription && !subscription.closed) {\n            subscriber.next(this._value);\n        }\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        if (this.hasError) {\n            throw this.thrownError;\n        }\n        else if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else {\n            return this._value;\n        }\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, this._value = value);\n    };\n    return BehaviorSubject;\n}(Subject_1.Subject));\nexports.BehaviorSubject = BehaviorSubject;\n//# sourceMappingURL=BehaviorSubject.js.map","\"use strict\";\n// typeof any so that it we don't have to cast when comparing a result to the error object\nexports.errorObject = { e: {} };\n//# sourceMappingURL=errorObject.js.map","\"use strict\";\nvar AjaxObservable_1 = require('./AjaxObservable');\nexports.ajax = AjaxObservable_1.AjaxObservable.create;\n//# sourceMappingURL=ajax.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar EmptyObservable = (function (_super) {\n    __extends(EmptyObservable, _super);\n    function EmptyObservable(scheduler) {\n        _super.call(this);\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable that emits no items to the Observer and immediately\n     * emits a complete notification.\n     *\n     * <span class=\"informal\">Just emits 'complete', and nothing else.\n     * </span>\n     *\n     * <img src=\"./img/empty.png\" width=\"100%\">\n     *\n     * This static operator is useful for creating a simple Observable that only\n     * emits the complete notification. It can be used for composing with other\n     * Observables, such as in a {@link mergeMap}.\n     *\n     * @example <caption>Emit the number 7, then complete.</caption>\n     * var result = Rx.Observable.empty().startWith(7);\n     * result.subscribe(x => console.log(x));\n     *\n     * @example <caption>Map and flatten only odd numbers to the sequence 'a', 'b', 'c'</caption>\n     * var interval = Rx.Observable.interval(1000);\n     * var result = interval.mergeMap(x =>\n     *   x % 2 === 1 ? Rx.Observable.of('a', 'b', 'c') : Rx.Observable.empty()\n     * );\n     * result.subscribe(x => console.log(x));\n     *\n     * @see {@link create}\n     * @see {@link never}\n     * @see {@link of}\n     * @see {@link throw}\n     *\n     * @param {Scheduler} [scheduler] A {@link Scheduler} to use for scheduling\n     * the emission of the complete notification.\n     * @return {Observable} An \"empty\" Observable: emits only the complete\n     * notification.\n     * @static true\n     * @name empty\n     * @owner Observable\n     */\n    EmptyObservable.create = function (scheduler) {\n        return new EmptyObservable(scheduler);\n    };\n    EmptyObservable.dispatch = function (arg) {\n        var subscriber = arg.subscriber;\n        subscriber.complete();\n    };\n    EmptyObservable.prototype._subscribe = function (subscriber) {\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(EmptyObservable.dispatch, 0, { subscriber: subscriber });\n        }\n        else {\n            subscriber.complete();\n        }\n    };\n    return EmptyObservable;\n}(Observable_1.Observable));\nexports.EmptyObservable = EmptyObservable;\n//# sourceMappingURL=EmptyObservable.js.map","\"use strict\";\nvar EmptyObservable_1 = require('./EmptyObservable');\nexports.empty = EmptyObservable_1.EmptyObservable.create;\n//# sourceMappingURL=empty.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar empty_1 = require('../../observable/empty');\nObservable_1.Observable.empty = empty_1.empty;\n//# sourceMappingURL=empty.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar filter_1 = require('../../operator/filter');\nObservable_1.Observable.prototype.filter = filter_1.filter;\n//# sourceMappingURL=filter.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar map_1 = require('../../operator/map');\nObservable_1.Observable.prototype.map = map_1.map;\n//# sourceMappingURL=map.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('./Subscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar OuterSubscriber = (function (_super) {\n    __extends(OuterSubscriber, _super);\n    function OuterSubscriber() {\n        _super.apply(this, arguments);\n    }\n    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.destination.error(error);\n    };\n    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.destination.complete();\n    };\n    return OuterSubscriber;\n}(Subscriber_1.Subscriber));\nexports.OuterSubscriber = OuterSubscriber;\n//# sourceMappingURL=OuterSubscriber.js.map","\"use strict\";\nexports.isArray = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArray.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('./Subscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar InnerSubscriber = (function (_super) {\n    __extends(InnerSubscriber, _super);\n    function InnerSubscriber(parent, outerValue, outerIndex) {\n        _super.call(this);\n        this.parent = parent;\n        this.outerValue = outerValue;\n        this.outerIndex = outerIndex;\n        this.index = 0;\n    }\n    InnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n    };\n    InnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error, this);\n        this.unsubscribe();\n    };\n    InnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return InnerSubscriber;\n}(Subscriber_1.Subscriber));\nexports.InnerSubscriber = InnerSubscriber;\n//# sourceMappingURL=InnerSubscriber.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar catch_1 = require('../../operator/catch');\nObservable_1.Observable.prototype.catch = catch_1._catch;\nObservable_1.Observable.prototype._catch = catch_1._catch;\n//# sourceMappingURL=catch.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar switchMap_1 = require('../../operator/switchMap');\nObservable_1.Observable.prototype.switchMap = switchMap_1.switchMap;\n//# sourceMappingURL=switchMap.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar distinct_1 = require('../../operator/distinct');\nObservable_1.Observable.prototype.distinct = distinct_1.distinct;\n//# sourceMappingURL=distinct.js.map","import 'skatejs-web-components';\n\nimport {Component, prop, h} from 'skatejs';\nconst React = { createElement: h };\n\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Observable } from 'rxjs/Observable';\nimport { ajax } from 'rxjs/Observable/dom/ajax';\nimport 'rxjs/add/observable/empty';\n\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/switchMap';\nimport 'rxjs/add/operator/distinct';\n\n\ncustomElements.define('svg-import', class extends Component {\n\tstatic get props () {\n\t\treturn {\n\t\t\t// By declaring the property an attribute, we can now pass an initial value\n\t\t\t// for the count as part of the HTML.\n\t\t\tsrc: prop.string({ attribute: true }),\n\t\t\t'inner-style': prop.string({ attribute: true }),\n\t\t};\n\t}\n\n\tconstructor(){\n\t\tsuper();\n\t\tthis.src$ = new BehaviorSubject(this.src)\n\t\t\t.filter(val => val && typeof val === 'string')\n\t\t\t.distinct( (src) => src + this['inner-style'])\n\t\t\t.switchMap(src => this.fetchXml(src))\n\t\t\t.filter(xml => !!xml);\n\t}\n\t\n\n\tfetchXml(src){\n\n\t\treturn ajax({url:src,cache:true,crossDomain:true,responseType:'text'})\n\t\t\t.map(function (response) {\n\t\t\t\treturn jQuery.parseXML(response.response)\n\t\t\t})\n\t\t\t.catch((err)=>{\n\t\t\t\tconsole.error(err);\n\t\t\t\treturn Observable.empty();\n\t\t\t});\n\t}\n\n\tgetWraper(){\n\t\treturn jQuery(this.shadowRoot).find('.svg-import-wrap').get(0);\n\t}\n\n\tupdateXml(xml){\n\t\tlet comp = this;\n\t\tif(!xml){return}\n\t\tconst $ = jQuery;\n\n\n\t\tvar $svg = $(xml).find('svg');\n\t\tvar svg = $svg.get(0);\n\n\t\tsvg.removeAttribute('xmlns:a');\n\t\tif(comp.width && comp.height){\n\t\t\t// svg.hasAttribute('viewBox') ? svg.setAttribute('viewBox', '0 0 ' + comp.height + ' ' + comp.width) : '';\n\t\t\tsvg.setAttribute('width','100%');\n\t\t\tsvg.setAttribute('height','100%');\n\t\t}\n\n\t\tvar wraper = comp.getWraper();\n\n\t\tif(wraper){\n\t\t\twraper.innerHTML = '';\n\t\t\twraper.appendChild(svg);\n\t\t}\n\n\t}\n\tconnectedCallback () {\n\t\t// Ensure we call the parent.\n\t\tsuper.connectedCallback();\n\t\t//this.updateXml();\n\t\tif(!jQuery){\n\t\t\tthrow new TypeError('svg-import require jQuery to work!');\n\t\t}\n\n\t\tthis.srcSubscription = this.src$\n\t\t\t.subscribe(\n\t\t\t\t(src)=>this.updateXml(src),\n\t\t\t\t(err)=>console.error(err));\n\n\t}\n\tattributeChangedCallback (name, oldValue, newValue) {\n\t\tsuper.attributeChangedCallback(name, oldValue, newValue);\n\t\tif(name === 'src'){\n\t\t\tthis.src$.next(newValue);\n\t\t}\n\t}\n\tdisconnectedCallback () {\n\t\t// Ensure we callback the parent.\n\t\tsuper.disconnectedCallback();\n\t\tif(this.srcSubscription){\n\t\t\tthis.srcSubscription.unsubscribe();\n\t\t}\n\t}\n\trenderCallback () {\n\t\t// By separating the strings (and not using template literals or string\n\t\t// concatenation) it ensures the strings are diffed indepenedently. If\n\t\t// you select \"Count\" with your mouse, it will not deselect whenr endered.\n\t\tvar comp = this;\n\n\t\tconst defBoxStyle = `\n\t\t\t:host{display:inline-block;}\n\t\t\t.svg-import-wrap{\n\t\t\t\toverflow:hidden;\n\t\t\t\tmargin:0;\n\t\t\t\tpadding:0;\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tmin-width:5px;\n\t\t\t\tmin-height:5px;\n\t\t\t\tdisplay:block;\n\t\t\t}\n\t\t\tsvg{\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t}\n\t\t`;\n\n\t\tthis.src$.next(comp.src);\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<style>{defBoxStyle + comp['inner-style']}</style>\n\t\t\t\t<figure role=\"image\" className=\"svg-import-wrap\"></figure>\n\t\t\t</div>\n\t\t)\n\t}\n});\n"],"names":["toSubscriber","nextOrObserver","error","complete","Subscriber_1","Subscriber","rxSubscriber_1","$$rxSubscriber","Observer_1","empty","getSymbolObservable","context","$$observable","Symbol","observable","tryCatcher","tryCatchTarget","apply","this","arguments","e","errorObject","errorObject_1","tryCatch","fn","map","project","thisArg","TypeError","lift","MapOperator","getCORSRequest","root_1","root","XMLHttpRequest","xhr","withCredentials","XDomainRequest","Error","getXMLHttpRequest","progId","progIds","i","ActiveXObject","ajaxGet","url","headers","AjaxObservable","method","ajaxPost","body","ajaxDelete","ajaxPut","ajaxGetJSON","responseType","map_1","x","index","response","filter","predicate","FilterOperator","isPromise","value","subscribe","then","symbolIteratorPonyfill","iterator","Set_1","Set","Map_1","Map","keys","Object","getOwnPropertyNames","prototype","length","key","subscribeToResult","outerSubscriber","result","outerValue","outerIndex","destination","InnerSubscriber_1","InnerSubscriber","closed","Observable_1","Observable","_isScalar","next","isArray_1","isArray","len","isPromise_1","err","setTimeout","iterator_1","$$iterator","item","done","observable_1","obs","_catch","selector","operator","CatchOperator","caught","switchMap","resultSelector","SwitchMapOperator","minimalSetImpl","MinimalSet","_values","add","has","push","indexOf","defineProperty","clear","distinct","keySelector","flushes","DistinctOperator","exports","window","self","global","__extends","d","b","__","constructor","p","hasOwnProperty","create","isFunction_1","require","Subscription_1","_super","destinationOrNext","call","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","SafeSubscriber","subscriber","_next","_error","_complete","unsubscribe","Subscription","_parent","observerOrNext","isFunction","bind","_context","__tryOrSetError","__tryOrUnsub","parent","_unsubscribe","for","toSubscriber_1","_subscribe","source","sink","forEach","PromiseCtor","_this","Rx","config","Promise","resolve","reject","subscription","isObject_1","tryCatch_1","UnsubscriptionError_1","errors","hasErrors","_a","_subscriptions","trial","sub","isObject","UnsubscriptionError","concat","teardown","EMPTY","remove","subscriptions","subscriptionIndex","splice","ObjectUnsubscribedError","name","stack","message","SubjectSubscription","subject","observers","subscriberIndex","ObjectUnsubscribedError_1","SubjectSubscription_1","SubjectSubscriber","Subject","hasError","thrownError","AnonymousSubject","copy","slice","asObservable","Subject_1","BehaviorSubject","_value","getValue","MapSubscriber","count","urlOrRequest","request","crossDomain","prop","AjaxSubscriber","get","post","delete","put","getJSON","FormData","serializeBody","send","AjaxResponse","_b","user","async","password","createXHR","open","timeout","setHeaders","setupEvents","contentType","splitIndex","substring","encodeURI","join","JSON","stringify","setRequestHeader","xhrTimeout","progressSubscriber","AjaxTimeoutError","xhrReadyStateChange","readyState","status_1","status","responseText","AjaxError","ontimeout","upload","xhrProgress_1","onprogress","xhrError_1","onerror","onreadystatechange","abort","originalEvent","parse","responseXML","AjaxObservable_1","EmptyObservable","scheduler","dispatch","arg","schedule","EmptyObservable_1","empty_1","FilterSubscriber","filter_1","OuterSubscriber","notifyNext","innerValue","innerIndex","innerSub","notifyError","notifyComplete","Array","OuterSubscriber_1","subscribeToResult_1","CatchSubscriber","catch_1","catch","SwitchMapSubscriber","_innerSub","innerSubscription","_tryNotifyNext","switchMap_1","DistinctSubscriber","values","_useKeySelector","_finalizeNext","distinct_1","customElements","define","src$","src","val","fetchXml","xml","string","attribute","ajax","cache","jQuery","parseXML","shadowRoot","find","comp","$","$svg","svg","removeAttribute","width","height","setAttribute","wraper","getWraper","innerHTML","appendChild","srcSubscription","_this2","updateXml","console","oldValue","newValue","defBoxStyle","h","role","className","Component"],"mappings":"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"}